!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ImageMasonryExample=t()}(this,function(){"use strict";var e=[{src:"https://source.unsplash.com/V6TWE6h8gyg/800x600",width:800,height:600,title:"Lorem ipsum dolor sit amet, consectetur adipiscing elit"},{src:"https://source.unsplash.com/dtaPArYUDg4/800x600",width:800,height:600,title:"Lorem ipsum dolor sit amet"},{src:"https://source.unsplash.com/R_kik2MoltU/600x799",width:600,height:799,title:"Lorem ipsum"},{src:"https://source.unsplash.com/8LPgWfHgcMg/600x799",width:600,height:799,title:"Lorem ipsum dolor sit amet"},{src:"https://source.unsplash.com/mC_puQe4V3g/600x800",width:600,height:800,title:"Lorem ipsum"},{src:"https://source.unsplash.com/_LuLiJc1cdo/800x600",width:800,height:600,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/v7daTKlZzaw/800x599",width:800,height:599,title:"Lorem ipsum"},{src:"https://source.unsplash.com/s7qZayMy6Go/600x799",width:600,height:799,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/rB-4G58XFt0/600x800",width:600,height:800,title:"Lorem ipsum"},{src:"https://source.unsplash.com/fg6g2u5oklo/1000x300",width:1e3,height:400,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/eVwzKfnEGDg/800x600",width:800,height:600,title:"Lorem ipsum"},{src:"https://source.unsplash.com/F_eLtGyrlNY/600x800",width:600,height:800,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/9270-pFGVTU/800x600",width:800,height:600,title:"Lorem ipsum"},{src:"https://source.unsplash.com/R4y_E5ZQDPg/800x599",width:800,height:599,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/-QTa5xYxDCs/800x599",width:800,height:599,title:"Lorem ipsum"},{src:"https://source.unsplash.com/Sfs_64L9UHE/600x800",width:600,height:800,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/pR166OP_l6g/800x600",width:800,height:600,title:"Lorem ipsum"},{src:"https://source.unsplash.com/hlvtJ4JkVfc/800x600",width:800,height:600,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/AUYr7ptqSRQ/800x400",width:800,height:400,title:"Lorem ipsum"},{src:"https://source.unsplash.com/E7PlRr9ZfoM/800x600",width:800,height:600,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/GhlotfzelR4/800x600",width:800,height:600,title:"Lorem ipsum"},{src:"https://source.unsplash.com/Xvlc79bu9MA/800x600",width:800,height:600,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/txRO7-0I8wU/600x800",width:600,height:800,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/e2uTOpgW5Ec/1000x300",width:1e3,height:300,title:"Lorem ipsum"},{src:"https://source.unsplash.com/5BsNkTMbZZ0/800x600",width:800,height:600,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/_31y-mxvRWI/600x800",width:600,height:800,title:"Lorem ipsum dolor"},{src:"https://source.unsplash.com/VrrZAVkzfWE/800x600",width:800,height:600,title:"Lorem ipsum"}];function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}var p={single_source_shortest_paths:function(e,t,i){var n={},s={};s[t]=0;var r,o,c,h,a,u,l=new m(function(e){return e.cost});for(l.push({value:t,cost:0});l.size();)for(var d in o=(r=l.pop()).value,c=r.cost,h=e(o)||{})a=c+h[d],u=s[d],(void 0===s[d]||a<u)&&(s[d]=a,l.push({value:d,cost:a}),n[d]=o);if(void 0!==s[i])return n;var p=["Could not find a path from ",t," to ",i,"."].join("");throw new Error(p)},extract_shortest_path_from_predecessor_list:function(e,t){for(var i=[],n=t;n;)i.push(n),e[n],n=e[n];return i.reverse(),i},find_path:function(e,t,i){var n=p.single_source_shortest_paths(e,t,i);return p.extract_shortest_path_from_predecessor_list(n,i)}};function m(e){this.content=[],this.scoreFunction=e}function f(e,t){return t/e}function g(e,t){return e/t}function _(e,t,i){return function(e,t){return e*t}(t,f(e.reduce(function(e,t){return e+t.scaledWidth},0),i))}function i(e,h,a,t,i){for(var u=3<arguments.length&&void 0!==t?t:8,n=4<arguments.length&&void 0!==i&&i,l=e.map(function(e){var t=f(e.width,e.height);return function(s){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(r,!0).forEach(function(e){var t,i,n;t=s,n=r[i=e],i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):d(r).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}({},e,{ratio:t,scaledWidth:g(a,t),scaledHeight:a,scaledWidthPc:0})}),s=p.find_path(function(e){var t,i,n,s,r,o={};o[e=+e]=0;for(var c=e+1;c<l.length+1&&!(u<c-e);++c)o[""+c]=(t=e,i=c,n=h,s=a,void 0,r=_(l.slice(t,i),n,s),Math.pow(Math.abs(r-s),2));return o},"0",l.length),r=[],o=[],c=0;c<s.length;c++)s[c+1]&&function(){var e=l.slice(+s[c],+s[c+1]),t=_(e,h,a);e.forEach(function(e){e.scaledWidth=g(t,e.ratio),e.scaledHeight=t,e.scaledWidthPc=e.scaledWidth/h*100,o.push(e)}),r.push(e)}();return n?r:o}function c(i){var n=i.target||i.srcElement;n.__resizeRAF__&&cancelAnimationFrame(n.__resizeRAF__),n.__resizeRAF__=requestAnimationFrame(function(){var t=n.__resizeTrigger__,e=t&&t.__resizeListeners__;e&&e.forEach(function(e){e.call(t,i)})})}m.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return 0<this.content.length&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,i=0;i<t;i++)if(this.content[i]===e){var n=this.content.pop();return void(i!==t-1&&(this.content[i]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.bubbleUp(i):this.sinkDown(i)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];0<e;){var i=Math.floor((e+1)/2)-1,n=this.content[i];if(!(this.scoreFunction(t)<this.scoreFunction(n)))break;this.content[i]=t,this.content[e]=n,e=i}},sinkDown:function(e){for(var t=this.content.length,i=this.content[e],n=this.scoreFunction(i);;){var s=2*(e+1),r=s-1,o=null;if(r<t){var c=this.content[r],h=this.scoreFunction(c);h<n&&(o=r)}if(s<t){var a=this.content[s];this.scoreFunction(a)<(null===o?n:h)&&(o=s)}if(null==o)break;this.content[e]=this.content[o],this.content[o]=i,e=o}}};function t(e,t){var i,n=this.document,s=n.attachEvent;if("undefined"!=typeof navigator&&(i=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],s)(e.__resizeTrigger__=e).attachEvent("onresize",c);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var r=e.__resizeTrigger__=n.createElement("object");r.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),r.setAttribute("class","resize-sensor"),r.setAttribute("tabindex","-1"),r.__resizeElement__=e,r.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",c)},r.type="text/html",i&&e.appendChild(r),r.data="about:blank",i||e.appendChild(r)}e.__resizeListeners__.push(t)}function n(e,t){var i=document.attachEvent,n=e.__resizeListeners__||[];if(t){var s=n.indexOf(t);-1!==s&&n.splice(s,1)}else n=e.__resizeListeners__=[];if(!n.length){if(i)e.detachEvent("onresize",c);else if(e.__resizeTrigger__){var r=e.__resizeTrigger__.contentDocument,o=r&&r.defaultView;o&&(o.removeEventListener("resize",c),delete o.__resizeTrigger__),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)}delete e.__resizeListeners__}}var s="undefined"==typeof window?t:t.bind(window);s.unbind=n;var r={props:{images:{type:Array,required:!0,default:[]},targetRowHeight:{type:Number,default:220}},data:function(){return{scaledImages:[],width:0}},methods:{makeStyle:function(e){return{width:e.scaledWidthPc+"%",height:e.scaledHeight+"px"}},onClick:function(e,t){this.$emit("image-click",this.images[e],e,t)}},mounted:function(){function e(){t.width=t.$el.getBoundingClientRect().width,t.scaledImages=i(t.images,t.width,t.targetRowHeight)}var t=this;s(this.$el,function(){Math.round(t.width)!==Math.round(t.$el.getBoundingClientRect().width)&&e()}),this.$watch("images",function(){e()},{immediate:!0,deep:!0}),this.$watch("targetRowHeight",e)},beforeDestroy:function(){n(this.$el)}};var h,o=function(e,t,i,n,s,r,o,c,h,a){"boolean"!=typeof o&&(h=c,c=o,o=!1);var u,l="function"==typeof i?i.options:i;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,s&&(l.functional=!0)),n&&(l._scopeId=n),r?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,h(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=u):t&&(u=o?function(){t.call(this,a(this.$root.$options.shadowRoot))}:function(e){t.call(this,c(e))}),u)if(l.functional){var d=l.render;l.render=function(e,t){return u.call(t),d(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,u):[u]}return i},a="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var u={};function l(e){return function(e,t){return function(e,t){var i=a?t.media||"default":e,n=u[i]||(u[i]={ids:new Set,styles:[]});if(!n.ids.has(e)){n.ids.add(e);var s=t.source;if(t.map&&(s+="\n/*# sourceURL="+t.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",t.media&&n.element.setAttribute("media",t.media),void 0===h&&(h=document.head||document.getElementsByTagName("head")[0]),h.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(s),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{var r=n.ids.size-1,o=document.createTextNode(s),c=n.element.childNodes;c[r]&&n.element.removeChild(c[r]),c.length?n.element.insertBefore(o,c[r]):n.element.appendChild(o)}}}(e,t)}}function v(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"image-masonry"},i._l(i.scaledImages,function(e,t){return n("div",{key:e.src,staticClass:"image-masonry-item",style:i.makeStyle(e),on:{click:function(e){return i.onClick(t,e)}}},[n("img",{attrs:{src:e.src,alt:e.alt}}),i._v(" "),i._t("default",null,{image:e,index:t})],2)}),0)}function w(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("image-masonry",{attrs:{images:this.images}})],1)}var b=r,y=(v._withStripped=!0,{data:function(){return{images:e}},components:{imageMasonry:o({render:v,staticRenderFns:[]},function(e){e&&e("data-v-b77dee24_0",{source:".image-masonry[data-v-b77dee24] {\r\n  box-sizing: border-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -ms-flex-wrap: wrap;\r\n  flex-wrap: wrap;\n}\n.image-masonry-item[data-v-b77dee24] {\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  padding: 1px\n}\n.image-masonry-item img[data-v-b77dee24] {\r\n  display: block;\r\n  width: 100%;\r\n  height: 100%;\n}\r\n",map:void 0,media:void 0})},b,"data-v-b77dee24",!(v._withStripped=!0),void 0,l,void 0)}});w._withStripped=!0;return o({render:w,staticRenderFns:[]},void 0,y,void 0,!(w._withStripped=!0),void 0,void 0,void 0)});
//# sourceMappingURL=image-masonry-vue.js.map
